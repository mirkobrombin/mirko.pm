---
title: '#howto - Installare Linux su Mac'
published: 2017-08-29
layout: post
author: Mirko B.
author_github: mirkobrombin
tags:
  - bash
---
<p>Hai un bel <em>MacBook</em>, <em>iMac</em> o <em>Mac Pro</em> che hai pagato un bel po' di quattrini, ma ti rendi conto che la libertà del tuo computer è indispensabile per te?</p><p>Questo articolo fa per te, la guida definitiva su come installare una distro <em>GNU/Linux</em> sulla tua preziosa macchina.</p><p>L'utilizzo dei&nbsp;<em>Mac</em> è una delizia, l'hardware è solido, veloce e bello, ma nel tempo ci si può stufare di <em>MacOS</em> e di fare le cose seguendo il modo <em>Apple</em>. <!--more--></p><p><strong>Nota</strong>: Si tratta di un tutorial avanzato che se non eseguito correttamente può apportare danni irreparabili ai tuoi dati. Se sei un novizio del mondo<em> GNU/Linux</em> o non sei molto avvezzo alla tecnologia, lascia stare questo articolo. Se, invece, decidi di continuare ricorda di eseguire un backup con <em>TimeMachine</em> (o strumenti simili).</p><p>Tengo a precisare che, non mi ritengo responabile di qualsiasi danno che potreste apportare al vostro Mac durante l'esecuzione di questa procedura. Questo tutorial è funzionante solo con dispositivi Mac (<em>MacBook</em>, <em>iMac</em>, <em>MacPro</em>...) basati su <em>EFI</em>, puoi consultare l'elenco dei dispositivi basati su <em>EFI</em> dal sito ufficiale <em>Apple</em>.</p><h3>Passaggio 1- Dual boot con MacOS (si, puoi mantenere MacOS!)</h3><p>Per installare due sistemi sullo stesso disco rigido dovresti liberare un po' di spazio, ad esempio spostando i tuoi vecchi dati su uno esterno o su un'unità flash. Bene, fatto questo c'è da dire che per eseguire questa installazione ho usato la penultima versione dell'OS di <em>Apple</em>, ovvero <em>El Capitain</em>, che introduce una <em>funzionalità di sicurezza</em> chiamata <em>SIP</em> che dovrai superare (trovi una rapidissima guida <a href="https://www.appleuser.it/macos-sierra-disattivare-protezione-integrita-di-sistema/">qui</a>, il tutorial è su <em>MacOS</em> <em>Sierra</em> ma il procedimento è lo stesso anche su <em>El Capitain</em>) se usi questa versione o altre più recenti. In questa guida installeremo <em>Ubuntu</em>, ma questo metodo dovrebbe essere funzionante con tutte le distribuzioni.</p><h4>1.1 - Installazione del gestore di avvio EFI</h4><p><em>EFI</em> sta per <em>Extensible Firmware Interface</em> ed è ormai molto comune sia tra i <em>Mac</em> che tra i <em>PC</em>. Ha sostituito il vecchio (e affidabile) sistema <em>BIOS</em> che era in uso dagli anni '80. L'installazione di Linux su una macchina basata sul <em>BIOS</em> era davvero banale.</p><p>Ora, con la tecnologia <em>EFI</em>, le cose sono un po' cambiate (ma non c'è nulla di cui preoccuparsi). Ora siamo pronti per scaricare <em>il rEFInd Boot Manager</em> e installarlo. <em>REFInd</em> è un boot loader per macchine basate su <em>EFI</em>. La versione che useremo è la 0.10.0 sotto forma di archivio <em>zip</em> (che trovi <a href="https://sourceforge.net/projects/refind/files/0.10.0/refind-bin-0.10.0.zip/download">qui</a>). Bene, una volta scaricato, apriamo il terminale (dalla cartella Utilities del Mac). Se non l'avete già fatto, estraete il contenuto dell'archivio con un:</p><pre><code class="language-bash">unzip refind-bin-0.10.0.zip</code></pre><p>Spostiamoci nella cartella appena estratta per effettuare l'installazione con:</p><pre><code class="language-bash">cd refind-bin-0.10.0</code></pre><p>Bene, ora installiamo <em>rEFInd</em>, che nella versione 0.10.0 offre un installazione sostanzialmente migliorata rispetto alle versioni precedenti, il che è indubbiamente un bene. Prima dobbiamo, però, installare i driver in caso ce ne sarà bisogno:</p><pre><code class="language-bash">sudo ./refind-install --alldrivers</code></pre><p>Ora dobbiamo montare la partizione <em>EFI</em> nascosta e, per nostra fortuna, <em>rEFInd</em> offre un semplicissimo strumento per farlo, ci basta infatti scrivere:</p><pre><code class="language-bash">sudo mountesp</code></pre><p>Ora dobbiamo modificare il file di configurazione (refind.conf) <em>EFI</em>, che è possibilile trovare in<em> /Volumes/ESP/EFI/refind/</em> o in <em>/Volumes/ESP/EFI/BOOT </em>(come nel mio caso). Una volta che lo abbiamo trovato diamo il comando:</p><pre><code class="language-bash">sudo nano /Volumes/ESP/EFI/BOOT/refind.conf (la directory del file refind.conf)</code></pre><p>Ora bisogna individuare la riga in cui è scritto <em>scanfor</em> e modificarla con:</p><pre><code class="language-bash">scanfor internal</code></pre><p>In caso quella riga non sia presente, aggiungila nella parte superiore del file. Ora dobbiamo modificare il file di configurazione per fare in modo che carichi i corretti driver del file system. Controllate una linea inizia&nbsp; con <em>fs0</em>, se questa riga non esiste , aggiungila come sotto, altrimenti modificala:</p><pre><code class="language-bash">fs0: load ext4_x64.efi fs0: map -r</code></pre><p>Salva il file e chiudei l'editor di testo. La parte più difficile è finita, abbiamo installato e configurato correttamente <em>rEFInd</em>! Vuoi controllare se tutto è andato a buon fine? Ti basta riavviare il computer e ti comparirà una schermata nera con il logo <em>rEFInd</em> allora ha funzionato, per avviare <em>MacOS</em> ti basterà scegliere il logo dell'omonimo sistema operativo (non con il <em>mouse</em> ma con le freccette direzionali della tastiera) e premere <em>invio</em>.</p><h3>Passaggio 2 - Scaricare e convertire l'immagine della distro</h3><p>E' giunto il momento di scegliere la distro che vuoi installare e scaricarne l'immagine <em>ISO</em>, qui tocca a te fare una scelta. Se sei nuovo del mondo <em>GNU/Linux</em> posso consigliarti distro graficamente più intuitive e semplici da usare per un novizio<em>: Mint</em>,<em> Zorin OS</em>,<em> Ubuntu</em>, <em>Elementary OS</em> ( un nome, una garanzia)&nbsp;<em>Deepin</em> o <em>Pinguy OS</em> (molto simili a MacOS). Mentre se non siete nuovi del mondo Linux qualsiasi distro può andare bene!</p><p>Ci sono, però, alcuni accorgimenti da prendere durante la scelta del file <em>ISO</em> da scaricare: assicurati di scaricare la versione x64 e se esiste una variante con avvio EFI scegli quella. Ora bisogna convertire l'immagine <em>ISO</em> del sistema operativo in un formato che il tuo Mac può riconoscere. Quindi torniamo al terminale (non preoccuparti, questa volta sara più semplice) scriviamo dunque:</p><pre><code class="language-bash">cd &lt;directory dove hai salvato il file&gt;hdiutuil convert -format UDRW -o &lt;nome a scelta&gt;.iso.img &lt;nome file scaricato&gt;.iso</code></pre><p><em>MacOS</em> ama rinominare i file con un'estensione <em>.dmg</em>, per evitare confusione, è meglio che tu non lo permetta, è semplicissimo:</p><pre><code class="language-bash">mv &lt;nome del tuo file&gt;.iso.img.dmg &lt;nome del tuo file&gt;.iso.img</code></pre><p>Ora inserisci la pen drive che conterrà i file di installazione della distro e digita (è conveniente, se hai collegati altri dispositivi di memoria di al tuo computer, di scollegarli e lasciare solo la chiavetta :</p><pre><code class="language-bash">diskutil list</code></pre><pre>Dovresti vedere un elenco di dischi (come quello nell'imagine sopra). Osservate la casella rossa attorno a <em>/dev/disk2</em>. E' possibile vedere che dispone di una partizione <em>FAT32</em> di Windows, la mia usb stick ha una capienza di 8 GB, che è un numero molto più piccolo se messo a confronto con i 500 GB di archiviazione del <em>Mac</em>. Basta identificare qual'è la tua pen drive e prenderne nota.</pre><p>Ora tutto ciò che dobbiamo fare è copiare il file .iso.img, contenente i dati di installazione della nostra distro, nella chiavetta usb. Per questo useremo:</p><pre><code class="language-bash">sudo dd if=&lt;nome del tuo file&gt;.iso.img of=/dev/disk2* bs=1m</code></pre><h6>*<em>/dev/disk2</em> &lt;-- questo potrebbe variare in base a come è identificata la tua pen drive, quindi anche dai dati che hai annotato prima su di essa</h6><p>Quest comando è completamente distruttivo, rimuove qualsiasi cosa sia presente nella tua chiavetta usb. Quindi fai attenzione, è consigliato eseguire un backup dei tuoi file importanti presenti su di essa (a patto che ce ne siano).</p><h3>Passggio 3 - Partizionamento del disco rigido</h3><p>Rechiamoci, nuovamente nelle utilità di sistema, ma ora non utilizzeremo il terminale, bensì lo strumento <em>Utility Disco</em>. Se ti va, puoi eseguire la scansione rapida degli errori nel disco, solo per assicurarsi che tutto vada bene prima del lavoro.</p><p>Una voltra che sei pronto, vedrai un un elenco di unità sul lato sinistro. L'utilità del disco può risultare diversa se si usa una versione più recente o precedente di <em>MacOS</em>, ma i cambiamenti non sono radicali e le funzioni sono le stesse per quanto ci riguarda ora. Scegli tra l'elenco a sinistra la prima unità, non tutte le partizioni o le unità esterne sotto, fai click sul pulsante <em>Partziona</em> o simili e vedrai un aerogramma (o grafico a torta) dove ti sarà possibile vedere come è partizionato il tuo Hard Disk, o più probabilmente il tuo <em>SSD</em>.</p><p>Queste fette come puoi vedere sono ridimensionabili, noi dobbiamo fare proprio questo, ma solo con la partizione <em>MacOS</em> (la più grande) quindi basta rendere più piccola questa fetta di torta fin quando non pesi che ci sia abbastanza spazio non partizionato dove allocare la distro <em>GNU/Linux</em> e i suoi relativi dati. Fatta questa decisione non ci resta che applicare le modifiche e attendere il ridimensionamento della partizione.</p><p>Questa operazione, nella gran parte dei computer di casa Apple dotati di SSD piuttosto che i classici Hard Disk, non dovrebbe richiedere molto tempo (qualche minuto).</p><h3>Passaggio 4 - Installiamo Linux su quel Mac!</h3><p>Questa è la parte più semplice, ma più divertente! Ora installeremo il sistema operativo con cui il tuo <em>Mac</em> volerà.</p><p>Spegnete completamente il <em>Mac</em>, collegateci un cavo <em>Ethernet</em>, usate un adattatore per i <em>MacBook</em> (fidati, ti risparmierà del duro lavoro). Se non ne hai uno ti consiglio di acquistarlo da un negozio di elettronica o da uno store online, come potrebbe essere <em>Amazon</em>. Se non ne hai uno e non vuoi spendere del denaro, mi spiace, ma dovrai perdere tanto tempo e pazienza, perchè dovrai uscaricare i driver wireless e installarli manualmente. Dopo di che inseriamo anche la pen drive con i file per l'installazione e possiamo iniziare.</p><p>Avviamo la macchina e teniamo premuto il tasto <em>alt</em>, si aprirà un menù a scomparsa con il disco rigido del tuo <em>Mac</em>, la tua chiavetta usb e qualche altra periferica di memorizzazione, purchè ce ne siano di connesse. Usa le freccette direzionali sulla tastiera per muoverti, se hai problemi con la tastiera Bluetooth collegane &nbsp;una supplementare via cavo (sui <em>MacBook</em> non dovrebbero esserci questi problemi dato che la tastiera è inetgrata nel portatile).</p><p>Ovviamente selezioniamo la pen drive (che sarà denominata <em>EFI</em> o qualcosa di simile) e premiamo il tasto invio. Se tutto è andato a buon fine ci troveremo nel programma di installazione della distribuzione <em>GNU/Linux</em> da noi scelta, nel mio caso <em>Ubuntu</em>. Il programma di installazone dei sistemi operativi è relativamente intuitivo, basterà procedere seguendo le istruzioni, per poi arrivare alle opzioni di partizionamento dove sceglieremo l'opzione di partizionamento manuale (in&nbsp;<em>Ubuntu</em> è <em>"Qualcos'altro"). </em></p><p>Individuiamo la partizione vuota, che si è creata ridimensionando quella di <em>MacOS</em>, e ne creiamo altre due: una piccola (deve essere il doppio della vostra <em>RAM</em>) e una grande creata con lo spazio restante. La grande deve essere formattata come <em>ext4</em> e con punto di montaggio "/", mentre la piccola come <em>swap</em>, fatto ciò premete sul pulsante <em>Successivo</em> o simile e attendete l'installazione (il tempo potrebbe variare in base al vostro hardware e alla distro). Ora basterà riavviare il Mac e vedere <em>rEFInd</em> che ci permetterà di scegliere se avviare <em>MacOS</em> o la nostra distribuzione <em>GNU/Linux</em>. <strong>Opereazione completata</strong> :grin: <strong>!</strong></p><h3>Passaggio Bonus - Driver e Utilità</h3><h4>Wifi</h4><p>In pochi saranno i fortunati che potranno riuscire ad utilizzare il WiFi senza prima installare i corretti driver. Se avete un <em>MacBook</em> dovrete munirvi di un adattatore <em>Thunderbolt</em>-<em>Ethernet</em> per connettervi alla rete e installare i corretti driver WiFi dal terminale (di <em>Linux</em> questa volta), scrivendo:</p><pre><code class="language-bash">sudo apt-get install firmware-linux-nonfree broadcom-sta-dkms</code></pre><p>Tutto dovrebbe essere installato correttamente, ti basta riavviare la macchina per scoprirlo!</p><h4>Grafica</h4><p>Il display dovrebbe generalmente funzionare anche senza l'installazione di particolari driver, ma tuttavia si potrebbero verificare bug grafici non irrilevanti durante l'utilizzo, è dunque consigliato provare i driver di <em>Nvidia</em>:</p><pre><code class="language-bash">sudo apt-get install nvidia driver xserver-xorg-video-intel</code></pre><p>Se questo metodo non risolve i problemi vi consiglio di visitare uno tra i tantissimi forum riguardanti il mondo Linux, troverete di certo un topic a riguardo.</p><h4>Retroilluminazione dello schermo e tasti di scelta rapida</h4><p>Un pacchetto è ora disponibile, purtroppo solo per <em>Debian</em> e <em>Ubuntu</em> chiamato <em>Pommed</em>, che gestisce i tasti di scelta rapida presenti su <em>MacBook Pro</em>, <em>MacBook</em> e <em>PowerBook</em>, regola automaticamente la retroilluminazione LCD e la retroilluminazione della tastiera. Basta installare il pacchetto:</p><pre><code class="language-bash">sudo apt-get install pommed</code></pre><p>Spero di avervi dato una mano nel rendere più libero e a configurare corettamente il vostro caro <em>Mac</em> con <em>Linux</em>. Ci tengo a precisare che questo articolo è una traduzione/riadattamento dell'articolo scritto nel 2015 e aggiornato lo scorso mese da <em>Linux Newbie Guide, </em><a href="http://linuxnewbieguide.org/how-to-install-linux-on-a-macintosh-computer/">questo</a> è il tutorial originale.</p><p>- Revisione di gstux</p>